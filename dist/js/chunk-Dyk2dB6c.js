import{r as c,j as t,v as it,aj as ye,$ as ut,X as _e,m as Me,A as dt,an as lt,ao as pt,a as ft,C as mt,ap as ht,aq as xt,ai as gt,ah as vt}from"./chunk-K5sxpyAn.js";import{x as je,J as Ne,F as ae,I as wt,G as J,E as v,K as Mt,P as G,V as bt,L as Ct,M as yt,N as _t,Q as jt,S as Nt,W as Re,y as Rt,z as be,b as Se,g as D,B as St}from"./index-BMfWBLPx.js";import{d as Dt,a as De,c as Ee,u as Et,b as Pt,A as It,I as kt,R as At,C as Tt,e as Ot}from"./chunk-C8_VK1iL.js";var de=["Enter"," "],Ft=["ArrowDown","PageUp","Home"],Pe=["ArrowUp","PageDown","End"],Lt=[...Ft,...Pe],Gt={ltr:[...de,"ArrowRight"],rtl:[...de,"ArrowLeft"]},Kt={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Q="Menu",[W,$t,Ut]=Dt(Q),[F,Ie]=je(Q,[Ut,De,Ee]),se=De(),ke=Ee(),[Bt,L]=F(Q),[Vt,Z]=F(Q),Ae=e=>{const{__scopeMenu:n,open:r=!1,children:a,dir:s,onOpenChange:i,modal:l=!0}=e,p=se(n),[g,h]=c.useState(null),f=c.useRef(!1),u=Ne(i),x=Et(s);return c.useEffect(()=>{const C=()=>{f.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>f.current=!1;return document.addEventListener("keydown",C,{capture:!0}),()=>{document.removeEventListener("keydown",C,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),t.jsx(Pt,{...p,children:t.jsx(Bt,{scope:n,open:r,onOpenChange:u,content:g,onContentChange:h,children:t.jsx(Vt,{scope:n,onClose:c.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:f,dir:x,modal:l,children:a})})})};Ae.displayName=Q;var zt="MenuAnchor",le=c.forwardRef((e,n)=>{const{__scopeMenu:r,...a}=e,s=se(r);return t.jsx(It,{...s,...a,ref:n})});le.displayName=zt;var pe="MenuPortal",[Xt,Te]=F(pe,{forceMount:void 0}),Oe=e=>{const{__scopeMenu:n,forceMount:r,children:a,container:s}=e,i=L(pe,n);return t.jsx(Xt,{scope:n,forceMount:r,children:t.jsx(ae,{present:r||i.open,children:t.jsx(wt,{asChild:!0,container:s,children:a})})})};Oe.displayName=pe;var R="MenuContent",[Yt,fe]=F(R),Fe=c.forwardRef((e,n)=>{const r=Te(R,e.__scopeMenu),{forceMount:a=r.forceMount,...s}=e,i=L(R,e.__scopeMenu),l=Z(R,e.__scopeMenu);return t.jsx(W.Provider,{scope:e.__scopeMenu,children:t.jsx(ae,{present:a||i.open,children:t.jsx(W.Slot,{scope:e.__scopeMenu,children:l.modal?t.jsx(Ht,{...s,ref:n}):t.jsx(Wt,{...s,ref:n})})})})}),Ht=c.forwardRef((e,n)=>{const r=L(R,e.__scopeMenu),a=c.useRef(null),s=J(n,a);return c.useEffect(()=>{const i=a.current;if(i)return Mt(i)},[]),t.jsx(me,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:v(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Wt=c.forwardRef((e,n)=>{const r=L(R,e.__scopeMenu);return t.jsx(me,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),qt=_t("MenuContent.ScrollLock"),me=c.forwardRef((e,n)=>{const{__scopeMenu:r,loop:a=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:p,onEntryFocus:g,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:u,onInteractOutside:x,onDismiss:C,disableOutsideScroll:w,...M}=e,A=L(R,r),b=Z(R,r),K=se(r),T=ke(r),$=$t(r),[U,ee]=c.useState(null),E=c.useRef(null),P=J(n,E,A.onContentChange),O=c.useRef(0),S=c.useRef(""),te=c.useRef(0),B=c.useRef(null),I=c.useRef("right"),V=c.useRef(0),re=w?yt:c.Fragment,ue=w?{as:qt,allowPinchZoom:!0}:void 0,z=o=>{const m=S.current+o,d=$().filter(j=>!j.disabled),y=document.activeElement,k=d.find(j=>j.ref.current===y)?.textValue,X=d.map(j=>j.textValue),ve=ir(X,m,k),Y=d.find(j=>j.textValue===ve)?.ref.current;(function j(we){S.current=we,window.clearTimeout(O.current),we!==""&&(O.current=window.setTimeout(()=>j(""),1e3))})(m),Y&&setTimeout(()=>Y.focus())};c.useEffect(()=>()=>window.clearTimeout(O.current),[]),Ct();const N=c.useCallback(o=>I.current===B.current?.side&&dr(o,B.current?.area),[]);return t.jsx(Yt,{scope:r,searchRef:S,onItemEnter:c.useCallback(o=>{N(o)&&o.preventDefault()},[N]),onItemLeave:c.useCallback(o=>{N(o)||(E.current?.focus(),ee(null))},[N]),onTriggerLeave:c.useCallback(o=>{N(o)&&o.preventDefault()},[N]),pointerGraceTimerRef:te,onPointerGraceIntentChange:c.useCallback(o=>{B.current=o},[]),children:t.jsx(re,{...ue,children:t.jsx(jt,{asChild:!0,trapped:s,onMountAutoFocus:v(i,o=>{o.preventDefault(),E.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:t.jsx(Nt,{asChild:!0,disableOutsidePointerEvents:p,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:u,onInteractOutside:x,onDismiss:C,children:t.jsx(At,{asChild:!0,...T,dir:b.dir,orientation:"vertical",loop:a,currentTabStopId:U,onCurrentTabStopIdChange:ee,onEntryFocus:v(g,o=>{b.isUsingKeyboardRef.current||o.preventDefault()}),preventScrollOnEntryFocus:!0,children:t.jsx(Tt,{role:"menu","aria-orientation":"vertical","data-state":Ze(A.open),"data-radix-menu-content":"",dir:b.dir,...K,...M,ref:P,style:{outline:"none",...M.style},onKeyDown:v(M.onKeyDown,o=>{const d=o.target.closest("[data-radix-menu-content]")===o.currentTarget,y=o.ctrlKey||o.altKey||o.metaKey,k=o.key.length===1;d&&(o.key==="Tab"&&o.preventDefault(),!y&&k&&z(o.key));const X=E.current;if(o.target!==X||!Lt.includes(o.key))return;o.preventDefault();const Y=$().filter(j=>!j.disabled).map(j=>j.ref.current);Pe.includes(o.key)&&Y.reverse(),sr(Y)}),onBlur:v(e.onBlur,o=>{o.currentTarget.contains(o.target)||(window.clearTimeout(O.current),S.current="")}),onPointerMove:v(e.onPointerMove,q(o=>{const m=o.target,d=V.current!==o.clientX;if(o.currentTarget.contains(m)&&d){const y=o.clientX>V.current?"right":"left";I.current=y,V.current=o.clientX}}))})})})})})})});Fe.displayName=R;var Jt="MenuGroup",he=c.forwardRef((e,n)=>{const{__scopeMenu:r,...a}=e;return t.jsx(G.div,{role:"group",...a,ref:n})});he.displayName=Jt;var Qt="MenuLabel",Le=c.forwardRef((e,n)=>{const{__scopeMenu:r,...a}=e;return t.jsx(G.div,{...a,ref:n})});Le.displayName=Qt;var ne="MenuItem",Ce="menu.itemSelect",ce=c.forwardRef((e,n)=>{const{disabled:r=!1,onSelect:a,...s}=e,i=c.useRef(null),l=Z(ne,e.__scopeMenu),p=fe(ne,e.__scopeMenu),g=J(n,i),h=c.useRef(!1),f=()=>{const u=i.current;if(!r&&u){const x=new CustomEvent(Ce,{bubbles:!0,cancelable:!0});u.addEventListener(Ce,C=>a?.(C),{once:!0}),bt(u,x),x.defaultPrevented?h.current=!1:l.onClose()}};return t.jsx(Ge,{...s,ref:g,disabled:r,onClick:v(e.onClick,f),onPointerDown:u=>{e.onPointerDown?.(u),h.current=!0},onPointerUp:v(e.onPointerUp,u=>{h.current||u.currentTarget?.click()}),onKeyDown:v(e.onKeyDown,u=>{const x=p.searchRef.current!=="";r||x&&u.key===" "||de.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});ce.displayName=ne;var Ge=c.forwardRef((e,n)=>{const{__scopeMenu:r,disabled:a=!1,textValue:s,...i}=e,l=fe(ne,r),p=ke(r),g=c.useRef(null),h=J(n,g),[f,u]=c.useState(!1),[x,C]=c.useState("");return c.useEffect(()=>{const w=g.current;w&&C((w.textContent??"").trim())},[i.children]),t.jsx(W.ItemSlot,{scope:r,disabled:a,textValue:s??x,children:t.jsx(kt,{asChild:!0,...p,focusable:!a,children:t.jsx(G.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...i,ref:h,onPointerMove:v(e.onPointerMove,q(w=>{a?l.onItemLeave(w):(l.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:v(e.onPointerLeave,q(w=>l.onItemLeave(w))),onFocus:v(e.onFocus,()=>u(!0)),onBlur:v(e.onBlur,()=>u(!1))})})})}),Zt="MenuCheckboxItem",Ke=c.forwardRef((e,n)=>{const{checked:r=!1,onCheckedChange:a,...s}=e;return t.jsx(ze,{scope:e.__scopeMenu,checked:r,children:t.jsx(ce,{role:"menuitemcheckbox","aria-checked":oe(r)?"mixed":r,...s,ref:n,"data-state":ge(r),onSelect:v(s.onSelect,()=>a?.(oe(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Ke.displayName=Zt;var $e="MenuRadioGroup",[er,tr]=F($e,{value:void 0,onValueChange:()=>{}}),Ue=c.forwardRef((e,n)=>{const{value:r,onValueChange:a,...s}=e,i=Ne(a);return t.jsx(er,{scope:e.__scopeMenu,value:r,onValueChange:i,children:t.jsx(he,{...s,ref:n})})});Ue.displayName=$e;var Be="MenuRadioItem",Ve=c.forwardRef((e,n)=>{const{value:r,...a}=e,s=tr(Be,e.__scopeMenu),i=r===s.value;return t.jsx(ze,{scope:e.__scopeMenu,checked:i,children:t.jsx(ce,{role:"menuitemradio","aria-checked":i,...a,ref:n,"data-state":ge(i),onSelect:v(a.onSelect,()=>s.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});Ve.displayName=Be;var xe="MenuItemIndicator",[ze,rr]=F(xe,{checked:!1}),Xe=c.forwardRef((e,n)=>{const{__scopeMenu:r,forceMount:a,...s}=e,i=rr(xe,r);return t.jsx(ae,{present:a||oe(i.checked)||i.checked===!0,children:t.jsx(G.span,{...s,ref:n,"data-state":ge(i.checked)})})});Xe.displayName=xe;var nr="MenuSeparator",Ye=c.forwardRef((e,n)=>{const{__scopeMenu:r,...a}=e;return t.jsx(G.div,{role:"separator","aria-orientation":"horizontal",...a,ref:n})});Ye.displayName=nr;var or="MenuArrow",He=c.forwardRef((e,n)=>{const{__scopeMenu:r,...a}=e,s=se(r);return t.jsx(Ot,{...s,...a,ref:n})});He.displayName=or;var ar="MenuSub",[pn,We]=F(ar),H="MenuSubTrigger",qe=c.forwardRef((e,n)=>{const r=L(H,e.__scopeMenu),a=Z(H,e.__scopeMenu),s=We(H,e.__scopeMenu),i=fe(H,e.__scopeMenu),l=c.useRef(null),{pointerGraceTimerRef:p,onPointerGraceIntentChange:g}=i,h={__scopeMenu:e.__scopeMenu},f=c.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return c.useEffect(()=>f,[f]),c.useEffect(()=>{const u=p.current;return()=>{window.clearTimeout(u),g(null)}},[p,g]),t.jsx(le,{asChild:!0,...h,children:t.jsx(Ge,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":Ze(r.open),...e,ref:Re(n,s.onTriggerChange),onClick:u=>{e.onClick?.(u),!(e.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:v(e.onPointerMove,q(u=>{i.onItemEnter(u),!u.defaultPrevented&&!e.disabled&&!r.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:v(e.onPointerLeave,q(u=>{f();const x=r.content?.getBoundingClientRect();if(x){const C=r.content?.dataset.side,w=C==="right",M=w?-5:5,A=x[w?"left":"right"],b=x[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:u.clientX+M,y:u.clientY},{x:A,y:x.top},{x:b,y:x.top},{x:b,y:x.bottom},{x:A,y:x.bottom}],side:C}),window.clearTimeout(p.current),p.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(u),u.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:v(e.onKeyDown,u=>{const x=i.searchRef.current!=="";e.disabled||x&&u.key===" "||Gt[a.dir].includes(u.key)&&(r.onOpenChange(!0),r.content?.focus(),u.preventDefault())})})})});qe.displayName=H;var Je="MenuSubContent",Qe=c.forwardRef((e,n)=>{const r=Te(R,e.__scopeMenu),{forceMount:a=r.forceMount,...s}=e,i=L(R,e.__scopeMenu),l=Z(R,e.__scopeMenu),p=We(Je,e.__scopeMenu),g=c.useRef(null),h=J(n,g);return t.jsx(W.Provider,{scope:e.__scopeMenu,children:t.jsx(ae,{present:a||i.open,children:t.jsx(W.Slot,{scope:e.__scopeMenu,children:t.jsx(me,{id:p.contentId,"aria-labelledby":p.triggerId,...s,ref:h,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{l.isUsingKeyboardRef.current&&g.current?.focus(),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:v(e.onFocusOutside,f=>{f.target!==p.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:v(e.onEscapeKeyDown,f=>{l.onClose(),f.preventDefault()}),onKeyDown:v(e.onKeyDown,f=>{const u=f.currentTarget.contains(f.target),x=Kt[l.dir].includes(f.key);u&&x&&(i.onOpenChange(!1),p.trigger?.focus(),f.preventDefault())})})})})})});Qe.displayName=Je;function Ze(e){return e?"open":"closed"}function oe(e){return e==="indeterminate"}function ge(e){return oe(e)?"indeterminate":e?"checked":"unchecked"}function sr(e){const n=document.activeElement;for(const r of e)if(r===n||(r.focus(),document.activeElement!==n))return}function cr(e,n){return e.map((r,a)=>e[(n+a)%e.length])}function ir(e,n,r){const s=n.length>1&&Array.from(n).every(h=>h===n[0])?n[0]:n,i=r?e.indexOf(r):-1;let l=cr(e,Math.max(i,0));s.length===1&&(l=l.filter(h=>h!==r));const g=l.find(h=>h.toLowerCase().startsWith(s.toLowerCase()));return g!==r?g:void 0}function ur(e,n){const{x:r,y:a}=e;let s=!1;for(let i=0,l=n.length-1;i<n.length;l=i++){const p=n[i],g=n[l],h=p.x,f=p.y,u=g.x,x=g.y;f>a!=x>a&&r<(u-h)*(a-f)/(x-f)+h&&(s=!s)}return s}function dr(e,n){if(!n)return!1;const r={x:e.clientX,y:e.clientY};return ur(r,n)}function q(e){return n=>n.pointerType==="mouse"?e(n):void 0}var lr=Ae,pr=le,fr=Oe,mr=Fe,hr=he,xr=Le,gr=ce,vr=Ke,wr=Ue,Mr=Ve,br=Xe,Cr=Ye,yr=He,_r=qe,jr=Qe,ie="DropdownMenu",[Nr,fn]=je(ie,[Ie]),_=Ie(),[Rr,et]=Nr(ie),tt=e=>{const{__scopeDropdownMenu:n,children:r,dir:a,open:s,defaultOpen:i,onOpenChange:l,modal:p=!0}=e,g=_(n),h=c.useRef(null),[f,u]=Rt({prop:s,defaultProp:i??!1,onChange:l,caller:ie});return t.jsx(Rr,{scope:n,triggerId:be(),triggerRef:h,contentId:be(),open:f,onOpenChange:u,onOpenToggle:c.useCallback(()=>u(x=>!x),[u]),modal:p,children:t.jsx(lr,{...g,open:f,onOpenChange:u,dir:a,modal:p,children:r})})};tt.displayName=ie;var rt="DropdownMenuTrigger",nt=c.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,disabled:a=!1,...s}=e,i=et(rt,r),l=_(r);return t.jsx(pr,{asChild:!0,...l,children:t.jsx(G.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...s,ref:Re(n,i.triggerRef),onPointerDown:v(e.onPointerDown,p=>{!a&&p.button===0&&p.ctrlKey===!1&&(i.onOpenToggle(),i.open||p.preventDefault())}),onKeyDown:v(e.onKeyDown,p=>{a||(["Enter"," "].includes(p.key)&&i.onOpenToggle(),p.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(p.key)&&p.preventDefault())})})})});nt.displayName=rt;var Sr="DropdownMenuPortal",ot=e=>{const{__scopeDropdownMenu:n,...r}=e,a=_(n);return t.jsx(fr,{...a,...r})};ot.displayName=Sr;var at="DropdownMenuContent",st=c.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,s=et(at,r),i=_(r),l=c.useRef(!1);return t.jsx(mr,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...a,ref:n,onCloseAutoFocus:v(e.onCloseAutoFocus,p=>{l.current||s.triggerRef.current?.focus(),l.current=!1,p.preventDefault()}),onInteractOutside:v(e.onInteractOutside,p=>{const g=p.detail.originalEvent,h=g.button===0&&g.ctrlKey===!0,f=g.button===2||h;(!s.modal||f)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});st.displayName=at;var Dr="DropdownMenuGroup",Er=c.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,s=_(r);return t.jsx(hr,{...s,...a,ref:n})});Er.displayName=Dr;var Pr="DropdownMenuLabel",Ir=c.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,s=_(r);return t.jsx(xr,{...s,...a,ref:n})});Ir.displayName=Pr;var kr="DropdownMenuItem",ct=c.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,s=_(r);return t.jsx(gr,{...s,...a,ref:n})});ct.displayName=kr;var Ar="DropdownMenuCheckboxItem",Tr=c.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,s=_(r);return t.jsx(vr,{...s,...a,ref:n})});Tr.displayName=Ar;var Or="DropdownMenuRadioGroup",Fr=c.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,s=_(r);return t.jsx(wr,{...s,...a,ref:n})});Fr.displayName=Or;var Lr="DropdownMenuRadioItem",Gr=c.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,s=_(r);return t.jsx(Mr,{...s,...a,ref:n})});Gr.displayName=Lr;var Kr="DropdownMenuItemIndicator",$r=c.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,s=_(r);return t.jsx(br,{...s,...a,ref:n})});$r.displayName=Kr;var Ur="DropdownMenuSeparator",Br=c.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,s=_(r);return t.jsx(Cr,{...s,...a,ref:n})});Br.displayName=Ur;var Vr="DropdownMenuArrow",zr=c.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,s=_(r);return t.jsx(yr,{...s,...a,ref:n})});zr.displayName=Vr;var Xr="DropdownMenuSubTrigger",Yr=c.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,s=_(r);return t.jsx(_r,{...s,...a,ref:n})});Yr.displayName=Xr;var Hr="DropdownMenuSubContent",Wr=c.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,s=_(r);return t.jsx(jr,{...s,...a,ref:n,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Wr.displayName=Hr;var qr=tt,Jr=nt,Qr=ot,Zr=st,en=ct;function tn({...e}){return t.jsx(qr,{"data-slot":"dropdown-menu",...e})}function rn({...e}){return t.jsx(Jr,{"data-slot":"dropdown-menu-trigger",...e})}function nn({className:e,sideOffset:n=4,...r}){return t.jsx(Qr,{children:t.jsx(Zr,{"data-slot":"dropdown-menu-content",sideOffset:n,className:Se("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...r})})}function on({className:e,inset:n,variant:r="default",...a}){return t.jsx(en,{"data-slot":"dropdown-menu-item","data-inset":n,"data-variant":r,className:Se("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a})}const an=({rows:e=5,columns:n=4})=>t.jsx("div",{className:"space-y-3",children:Array.from({length:e}).map((r,a)=>t.jsx("div",{className:"flex space-x-4",children:Array.from({length:n}).map((s,i)=>t.jsx("div",{className:"h-4 bg-muted/50 rounded animate-pulse flex-1"},i))},a))}),sn=({message:e="No data available",hasFilters:n=!1,onClearFilters:r})=>t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-muted/20 rounded-full flex items-center justify-center mb-4",children:t.jsx(ye,{className:"w-8 h-8 text-muted-foreground/50"})}),t.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:n?"No Results Found":"No Data Available"}),t.jsx("p",{className:"text-muted-foreground max-w-sm mb-4",children:e}),n&&r&&t.jsxs(D,{variant:"outline",onClick:r,className:"gap-2",children:[t.jsx(_e,{className:"w-4 h-4"}),"Clear Filters"]})]}),cn=it.memo(({data:e,columns:n,searchable:r=!0,filterable:a=!0,sortable:s=!0,pagination:i=!0,pageSize:l=10,loading:p=!1,emptyState:g,onRowClick:h,onRowAction:f,className:u="",rowActions:x=[]})=>{const[C,w]=c.useState(""),[M,A]=c.useState(null),[b,K]=c.useState(1),[T,$]=c.useState({}),[U,ee]=c.useState(!1),E=c.useMemo(()=>{let o=[...e];return C&&r&&(o=o.filter(m=>n.some(d=>{const y=d.accessor?d.accessor(m):m[d.key];return String(y).toLowerCase().includes(C.toLowerCase())}))),Object.entries(T).forEach(([m,d])=>{d&&(o=o.filter(y=>{const k=y[m];return String(k).toLowerCase().includes(d.toLowerCase())}))}),o},[e,C,T,n,r]),P=c.useMemo(()=>!M||!s?E:[...E].sort((o,m)=>{const d=n.find(X=>X.key===M.key),y=d?.accessor?d.accessor(o):o[M.key],k=d?.accessor?d.accessor(m):m[M.key];return y<k?M.direction==="asc"?-1:1:y>k?M.direction==="asc"?1:-1:0}),[E,M,n,s]),O=c.useMemo(()=>{if(!i)return P;const o=(b-1)*l;return P.slice(o,o+l)},[P,b,l,i]),S=Math.ceil(P.length/l),te=o=>{s&&A(m=>m?.key===o?m.direction==="asc"?{key:o,direction:"desc"}:null:{key:o,direction:"asc"})},B=o=>!M||M.key!==o?t.jsx(xt,{className:"w-4 h-4 opacity-50"}):M.direction==="asc"?t.jsx(gt,{className:"w-4 h-4"}):t.jsx(vt,{className:"w-4 h-4"}),I=o=>{K(Math.max(1,Math.min(o,S)))},V=(o,m)=>{$(d=>({...d,[o]:m})),K(1)},re=()=>{$({}),K(1)},ue=(o,m,d)=>{d.stopPropagation(),f?.(o,m)},z=n.filter(o=>o.filterable!==!1),N=Object.values(T).some(o=>o!=="");return p?t.jsx("div",{className:`bg-card rounded-2xl border border-border/50 p-6 ${u}`,children:t.jsx(an,{rows:l,columns:n.length})}):t.jsxs("div",{className:`bg-card rounded-2xl border border-border/50 overflow-hidden ${u}`,children:[t.jsxs("div",{className:"p-6 border-b border-border/50",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[r&&t.jsxs("div",{className:"relative flex-1 max-w-sm",children:[t.jsx(ye,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),t.jsx("input",{type:"text",placeholder:"Search...",value:C,onChange:o=>w(o.target.value),className:"w-full pl-10 pr-4 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[a&&z.length>0&&t.jsxs(D,{variant:"outline",size:"sm",onClick:()=>ee(!U),className:`gap-2 ${U?"bg-muted":""}`,children:[t.jsx(ut,{className:"w-4 h-4"}),"Filters",N&&t.jsx(St,{variant:"secondary",className:"ml-1 h-5 w-5 p-0 text-xs",children:Object.values(T).filter(o=>o!=="").length})]}),N&&t.jsxs(D,{variant:"ghost",size:"sm",onClick:re,className:"gap-2 text-muted-foreground hover:text-foreground",children:[t.jsx(_e,{className:"w-4 h-4"}),"Clear"]})]})]}),a&&U&&z.length>0&&t.jsx(Me.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 pt-4 border-t border-border/50",children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:z.map(o=>t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:o.header}),t.jsx("input",{type:"text",placeholder:`Filter by ${o.header.toLowerCase()}...`,value:T[String(o.key)]||"",onChange:m=>V(String(o.key),m.target.value),className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary text-sm"})]},String(o.key)))})})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",role:"table","aria-label":"Data table",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-border/50",role:"row",children:[n.map(o=>t.jsx("th",{role:"columnheader","aria-sort":M?.key===String(o.key)?M.direction==="asc"?"ascending":"descending":o.sortable!==!1&&s?"none":void 0,className:`
                    px-6 py-4 text-left text-sm font-medium text-muted-foreground
                    ${o.sortable!==!1&&s?"cursor-pointer hover:text-foreground focus:outline-none focus:ring-2 focus:ring-primary/20":""}
                    ${o.width?o.width:""}
                  `,onClick:()=>o.sortable!==!1&&te(String(o.key)),onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&o.sortable!==!1&&s&&(m.preventDefault(),te(String(o.key)))},tabIndex:o.sortable!==!1&&s?0:-1,children:t.jsxs("div",{className:"flex items-center gap-2",children:[o.header,o.sortable!==!1&&s&&B(String(o.key))]})},String(o.key))),x.length>0&&t.jsx("th",{role:"columnheader",className:"px-6 py-4 text-right text-sm font-medium text-muted-foreground w-16",children:"Actions"})]})}),t.jsx("tbody",{children:t.jsx(dt,{mode:"wait",children:O.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:n.length+(x.length>0?1:0),children:g||t.jsx(sn,{message:N?"No results match your current filters. Try adjusting your search criteria.":"No data available to display.",hasFilters:N,onClearFilters:N?re:void 0})})}):O.map((o,m)=>t.jsxs(Me.tr,{role:"row",className:`
                      border-b border-border/30 hover:bg-muted/30 transition-colors
                      ${h?"cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary/20":""}
                    `,onClick:()=>h?.(o),onKeyDown:d=>{(d.key==="Enter"||d.key===" ")&&h&&(d.preventDefault(),h(o))},tabIndex:h?0:-1,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2,delay:m*.05},whileHover:{backgroundColor:"rgba(var(--muted), 0.5)",transition:{duration:.2}},children:[n.map(d=>{const y=d.accessor?d.accessor(o):o[d.key];return t.jsx("td",{role:"cell",className:"px-6 py-4 text-sm",children:d.render?d.render(y,o):String(y)},String(d.key))}),x.length>0&&t.jsx("td",{role:"cell",className:"px-6 py-4 text-right",children:t.jsx("div",{className:"flex items-center justify-end",children:t.jsxs(tn,{children:[t.jsx(rn,{asChild:!0,children:t.jsx(D,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:d=>d.stopPropagation(),"aria-label":`Actions for row ${m+1}`,children:t.jsx(lt,{className:"w-4 h-4"})})}),t.jsx(nn,{align:"end",className:"w-48",children:x.map(d=>t.jsxs(on,{onClick:y=>ue(d.action,o,y),className:"flex items-center gap-2 cursor-pointer",children:[d.icon,d.label]},d.action))})]})})})]},m))})})]})}),i&&S>1&&t.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-border/50",children:[t.jsxs("div",{className:"text-sm text-muted-foreground","aria-live":"polite","aria-atomic":"true",children:["Showing ",(b-1)*l+1," to"," ",Math.min(b*l,P.length)," of"," ",P.length," results"]}),t.jsxs("nav",{className:"flex items-center gap-2","aria-label":"Table pagination",children:[t.jsx(D,{variant:"outline",size:"sm",onClick:()=>I(1),disabled:b===1,className:"p-2","aria-label":"Go to first page",children:t.jsx(pt,{className:"w-4 h-4"})}),t.jsx(D,{variant:"outline",size:"sm",onClick:()=>I(b-1),disabled:b===1,className:"p-2","aria-label":"Go to previous page",children:t.jsx(ft,{className:"w-4 h-4"})}),t.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,S)},(o,m)=>{const d=m+1;return t.jsx(D,{variant:b===d?"default":"outline",size:"sm",onClick:()=>I(d),"aria-label":`Go to page ${d}`,"aria-current":b===d?"page":void 0,className:"px-3 py-2 text-sm",children:d},d)})}),t.jsx(D,{variant:"outline",size:"sm",onClick:()=>I(b+1),disabled:b===S,className:"p-2","aria-label":"Go to next page",children:t.jsx(mt,{className:"w-4 h-4"})}),t.jsx(D,{variant:"outline",size:"sm",onClick:()=>I(S),disabled:b===S,className:"p-2","aria-label":"Go to last page",children:t.jsx(ht,{className:"w-4 h-4"})})]})]})]})});cn.displayName="DataTable";export{cn as D};
