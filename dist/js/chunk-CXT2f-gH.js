const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-BMfWBLPx.js","./chunk-K5sxpyAn.js","./chunk-DxddZhsK.js","../css/index-Bq-qQrv7.css"])))=>i.map(i=>d[i]);
import{R as G,C as J,b as o,o as K,p as Q,q as W,r as Y,O as Z,P as ee,g as C,B as se,_ as ae}from"./index-BMfWBLPx.js";import{j as e,X as te,r as H,m as L,n as p,a1 as ne,a2 as A,a3 as E,a4 as I,a5 as j,a6 as ie,a7 as _,P as le,a8 as B,l as ce,a9 as F,aa as re,ab as T,ac as M,ad as f,F as de}from"./chunk-K5sxpyAn.js";import{T as me,e as oe,f as N,g,C as c,h as u,i as h,j as r}from"./chunk-D5hk64dV.js";import{S}from"./chunk-C8_VK1iL.js";function P({...a}){return e.jsx(G,{"data-slot":"sheet",...a})}function xe({...a}){return e.jsx(Y,{"data-slot":"sheet-portal",...a})}function ue({className:a,...n}){return e.jsx(Z,{"data-slot":"sheet-overlay",className:o("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...n})}function O({className:a,children:n,side:i="right",...s}){return e.jsxs(xe,{children:[e.jsx(ue,{}),e.jsxs(J,{"data-slot":"sheet-content",className:o("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",i==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",i==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",i==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",i==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",a),...s,children:[n,e.jsxs(K,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[e.jsx(te,{className:"size-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function z({className:a,...n}){return e.jsx("div",{"data-slot":"sheet-header",className:o("flex flex-col gap-1.5 p-4",a),...n})}function R({className:a,...n}){return e.jsx(Q,{"data-slot":"sheet-title",className:o("text-foreground font-semibold",a),...n})}function U({className:a,...n}){return e.jsx(W,{"data-slot":"sheet-description",className:o("text-muted-foreground text-sm",a),...n})}var he="Separator",$="horizontal",pe=["horizontal","vertical"],V=H.forwardRef((a,n)=>{const{decorative:i,orientation:s=$,...b}=a,x=je(s)?s:$,w=i?{role:"none"}:{"aria-orientation":x==="vertical"?x:void 0,role:"separator"};return e.jsx(ee.div,{"data-orientation":x,...w,...b,ref:n})});V.displayName=he;function je(a){return pe.includes(a)}var fe=V;function Ne({className:a,orientation:n="horizontal",decorative:i=!0,...s}){return e.jsx(fe,{"data-slot":"separator",decorative:i,orientation:n,className:o("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",a),...s})}function y({className:a,...n}){return e.jsx("div",{"data-slot":"skeleton",className:o("bg-accent animate-pulse rounded-md",a),...n})}const we=({orderId:a,open:n,onClose:i,order:s,loading:b=!1})=>{const[x,v]=H.useState(!1),w=async()=>{if(s?.paymentLink)try{await navigator.clipboard.writeText(s.paymentLink),v(!0),setTimeout(()=>v(!1),2e3);const{toast:t}=await ae(async()=>{const{toast:l}=await import("./index-BMfWBLPx.js").then(m=>m.X);return{toast:l}},__vite__mapDeps([0,1,2,3]),import.meta.url);t.success("Payment link copied to clipboard")}catch{}},D=()=>{if(s?.blockchainTx){const t=`https://polygonscan.com/tx/${s.blockchainTx}`;window.open(t,"_blank")}},d=(t,l="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:l}).format(t),k=t=>new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(t)),q=(t,l=6,m=4)=>t.length<=l+m?t:`${t.slice(0,l)}...${t.slice(-m)}`;return b?e.jsx(P,{open:n,onOpenChange:i,children:e.jsxs(O,{className:"w-full sm:max-w-2xl overflow-y-auto",children:[e.jsxs(z,{children:[e.jsx(y,{className:"h-6 w-48"}),e.jsx(y,{className:"h-4 w-32"})]}),e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsx(y,{className:"h-10 w-full"}),e.jsx(y,{className:"h-64 w-full"})]})]})}):s?e.jsx(P,{open:n,onOpenChange:i,children:e.jsx(O,{className:"w-full sm:max-w-2xl overflow-y-auto",children:e.jsxs(L.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,ease:"easeOut"},children:[e.jsx(z,{className:"pb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(R,{className:"text-xl font-semibold",children:["Order #",s.id]}),e.jsxs(U,{className:"flex items-center gap-2 mt-1",children:[e.jsx(S,{status:s.status,size:"sm"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:k(s.updatedAt)})]})]}),e.jsxs("div",{className:"flex gap-2",children:[s.paymentLink&&e.jsxs(C,{variant:"outline",size:"sm",onClick:w,className:"gap-2",children:[x?e.jsx(p,{className:"h-4 w-4"}):e.jsx(ne,{className:"h-4 w-4"}),x?"Copied!":"Copy Payment Link"]}),s.blockchainTx&&e.jsxs(C,{variant:"outline",size:"sm",onClick:D,className:"gap-2",children:[e.jsx(A,{className:"h-4 w-4"}),"Polygonscan"]})]})]})}),e.jsxs(me,{defaultValue:"summary",className:"w-full",children:[e.jsxs(oe,{className:"grid w-full grid-cols-4 rounded-2xl",children:[e.jsx(N,{value:"summary",className:"rounded-xl",children:"Summary"}),e.jsx(N,{value:"pricing",className:"rounded-xl",children:"Pricing & Finance"}),e.jsx(N,{value:"logistics",className:"rounded-xl",children:"Logistics"}),e.jsx(N,{value:"blockchain",className:"rounded-xl",children:"Blockchain"})]}),e.jsxs(g,{value:"summary",className:"mt-6 space-y-6",children:[e.jsxs(c,{className:"rounded-2xl border-0 bg-gradient-to-br from-blue-500/5 to-purple-500/5 shadow-xl",children:[e.jsx(u,{className:"pb-4",children:e.jsxs(h,{className:"flex items-center gap-2 text-lg",children:[e.jsx(E,{className:"h-5 w-5"}),"Buyer Information"]})}),e.jsxs(r,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(I,{className:"h-4 w-4"}),"Email"]}),e.jsx("p",{className:"font-medium",children:s.buyer.email})]}),s.buyer.name&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(E,{className:"h-4 w-4"}),"Name"]}),e.jsx("p",{className:"font-medium",children:s.buyer.name})]}),s.buyer.company&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(j,{className:"h-4 w-4"}),"Company"]}),e.jsx("p",{className:"font-medium",children:s.buyer.company})]}),s.buyer.phone&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(ie,{className:"h-4 w-4"}),"Phone"]}),e.jsx("p",{className:"font-medium",children:s.buyer.phone})]})]}),s.buyer.address&&e.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(_,{className:"h-4 w-4"}),"Address"]}),e.jsxs("p",{className:"font-medium",children:[s.buyer.address.street,", ",s.buyer.address.city,", ",s.buyer.address.state," ",s.buyer.address.zipCode,","," ",s.buyer.address.country]})]})]})]}),e.jsxs(c,{className:"rounded-2xl border-0 bg-gradient-to-br from-green-500/5 to-blue-500/5 shadow-xl",children:[e.jsx(u,{className:"pb-4",children:e.jsxs(h,{className:"flex items-center gap-2 text-lg",children:[e.jsx(le,{className:"h-5 w-5"}),"Order Items"]})}),e.jsx(r,{children:e.jsx("div",{className:"space-y-4",children:s.items.map((t,l)=>e.jsxs(L.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:l*.1},className:"flex items-center justify-between p-4 rounded-xl bg-background/50 border",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:t.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Model: ",t.model]}),t.specifications&&e.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:Object.entries(t.specifications).map(([m,X])=>e.jsxs(se,{variant:"secondary",className:"text-xs",children:[m,": ",String(X)]},m))})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-medium",children:d(t.totalPrice,s.currency)}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.quantity," ×"," ",d(t.unitPrice,s.currency)]})]})]},t.id))})})]}),s.supplier&&e.jsxs(c,{className:"rounded-2xl border-0 bg-gradient-to-br from-purple-500/5 to-pink-500/5 shadow-xl",children:[e.jsx(u,{className:"pb-4",children:e.jsxs(h,{className:"flex items-center gap-2 text-lg",children:[e.jsx(j,{className:"h-5 w-5"}),"Supplier Information"]})}),e.jsxs(r,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(j,{className:"h-4 w-4"}),"Company"]}),e.jsx("p",{className:"font-medium",children:s.supplier.company})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(I,{className:"h-4 w-4"}),"Email"]}),e.jsx("p",{className:"font-medium",children:s.supplier.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(B,{className:"h-4 w-4"}),"Rating"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"font-medium",children:s.supplier.rating}),e.jsx("div",{className:"flex",children:[...Array(5)].map((t,l)=>e.jsx(B,{className:`h-4 w-4 ${l<Math.floor(s.supplier.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},l))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(ce,{className:"h-4 w-4"}),"Lead Time"]}),e.jsxs("p",{className:"font-medium",children:[s.supplier.leadTime," days"]})]})]}),e.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(_,{className:"h-4 w-4"}),"Address"]}),e.jsxs("p",{className:"font-medium",children:[s.supplier.address.street,","," ",s.supplier.address.city,","," ",s.supplier.address.state," ",s.supplier.address.zipCode,","," ",s.supplier.address.country]})]})]})]})]}),e.jsx(g,{value:"pricing",className:"mt-6 space-y-6",children:s.finance?e.jsxs(c,{className:"rounded-2xl border-0 bg-gradient-to-br from-green-500/5 to-emerald-500/5 shadow-xl",children:[e.jsx(u,{className:"pb-4",children:e.jsxs(h,{className:"flex items-center gap-2 text-lg",children:[e.jsx(F,{className:"h-5 w-5"}),"Financial Summary"]})}),e.jsxs(r,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),e.jsx("span",{className:"font-medium",children:d(s.finance.subtotal,s.finance.currency)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-muted-foreground",children:"Tax"}),e.jsx("span",{className:"font-medium",children:d(s.finance.tax,s.finance.currency)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-muted-foreground",children:"Shipping"}),e.jsx("span",{className:"font-medium",children:d(s.finance.shipping,s.finance.currency)})]}),e.jsx(Ne,{}),e.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[e.jsx("span",{children:"Total"}),e.jsx("span",{children:d(s.finance.total,s.finance.currency)})]})]}),s.finance.paymentMethod&&e.jsxs("div",{className:"pt-4 border-t space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(re,{className:"h-4 w-4"}),"Payment Method"]}),e.jsx("p",{className:"font-medium",children:s.finance.paymentMethod})]}),e.jsxs("div",{className:"pt-2 space-y-2",children:[e.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:"Payment Status"}),e.jsx(S,{status:s.finance.paymentStatus==="processing"?"processing":s.finance.paymentStatus==="completed"?"completed":s.finance.paymentStatus==="failed"?"failed":"pending",size:"sm"})]})]})]}):e.jsx(c,{className:"rounded-2xl border-0 bg-gradient-to-br from-gray-500/5 to-slate-500/5 shadow-xl",children:e.jsx(r,{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(F,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Financial information not available yet"})]})})})}),e.jsx(g,{value:"logistics",className:"mt-6 space-y-6",children:s.logistics?e.jsxs(c,{className:"rounded-2xl border-0 bg-gradient-to-br from-orange-500/5 to-red-500/5 shadow-xl",children:[e.jsx(u,{className:"pb-4",children:e.jsxs(h,{className:"flex items-center gap-2 text-lg",children:[e.jsx(T,{className:"h-5 w-5"}),"Logistics Information"]})}),e.jsxs(r,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(T,{className:"h-4 w-4"}),"Shipping Method"]}),e.jsx("p",{className:"font-medium",children:s.logistics.shippingMethod})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(M,{className:"h-4 w-4"}),"Estimated Delivery"]}),e.jsx("p",{className:"font-medium",children:k(s.logistics.estimatedDelivery)})]}),s.logistics.carrier&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(j,{className:"h-4 w-4"}),"Carrier"]}),e.jsx("p",{className:"font-medium",children:s.logistics.carrier})]}),s.logistics.trackingNumber&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(f,{className:"h-4 w-4"}),"Tracking Number"]}),e.jsx("p",{className:"font-medium font-mono",children:s.logistics.trackingNumber})]})]}),e.jsx("div",{className:"pt-2 border-t",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-muted-foreground",children:"Shipping Cost"}),e.jsx("span",{className:"font-medium",children:d(s.logistics.shippingCost,s.currency)})]})})]})]}):e.jsx(c,{className:"rounded-2xl border-0 bg-gradient-to-br from-gray-500/5 to-slate-500/5 shadow-xl",children:e.jsx(r,{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(T,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Logistics information not available yet"})]})})})}),e.jsx(g,{value:"blockchain",className:"mt-6 space-y-6",children:s.blockchainTx?e.jsxs(c,{className:"rounded-2xl border-0 bg-gradient-to-br from-cyan-500/5 to-blue-500/5 shadow-xl",children:[e.jsx(u,{className:"pb-4",children:e.jsxs(h,{className:"flex items-center gap-2 text-lg",children:[e.jsx(f,{className:"h-5 w-5"}),"Blockchain Transaction"]})}),e.jsxs(r,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(f,{className:"h-4 w-4"}),"Transaction Hash"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"font-mono text-sm bg-muted px-2 py-1 rounded",children:q(s.blockchainTx)}),e.jsxs(C,{variant:"ghost",size:"sm",onClick:D,className:"gap-2",children:[e.jsx(A,{className:"h-4 w-4"}),"View on Polygonscan"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:"Status"}),e.jsx(S,{status:"completed",size:"sm"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(M,{className:"h-4 w-4"}),"Recorded At"]}),e.jsx("p",{className:"font-medium",children:k(s.updatedAt)})]})]}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-3",children:[e.jsx(de,{className:"h-4 w-4"}),"Transaction Flow"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full bg-green-500/10 text-green-600 text-sm",children:[e.jsx(p,{className:"h-4 w-4"}),"Order"]}),e.jsx("div",{className:"w-4 h-px bg-border"}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full bg-blue-500/10 text-blue-600 text-sm",children:[e.jsx(p,{className:"h-4 w-4"}),"Payment"]}),e.jsx("div",{className:"w-4 h-px bg-border"}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full bg-purple-500/10 text-purple-600 text-sm",children:[e.jsx(p,{className:"h-4 w-4"}),"Anchor"]})]})]})]})]}):e.jsx(c,{className:"rounded-2xl border-0 bg-gradient-to-br from-gray-500/5 to-slate-500/5 shadow-xl",children:e.jsx(r,{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(f,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Blockchain transaction not recorded yet"})]})})})})]})]})})}):e.jsx(P,{open:n,onOpenChange:i,children:e.jsx(O,{className:"w-full sm:max-w-2xl",children:e.jsxs(z,{children:[e.jsx(R,{children:"Order Not Found"}),e.jsxs(U,{children:["The order with ID ",a," could not be found."]})]})})})};export{we as O};
